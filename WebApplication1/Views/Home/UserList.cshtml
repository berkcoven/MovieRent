@model IEnumerable<MovieRent.Entities.UserAppFilmList>
@{
    ViewBag.Title = "UserList";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<style>
    #sortable li {
        background-color: cadetblue;
        width: 100%;
        height: 25px;
        padding: 5px;
        text-align: center;
        list-style-type: none;
        border-radius: 12px;
        background-color:#231e1e;
        color: white;
        border: 2px solid white;  
        margin-top: 5px;
    } 

    .cerceve
    {
        width:50%;
        margin:auto;
    }
    .butonsave {
        width: 50%;
        margin: auto;
        padding: 5px;
        margin-left: 140px;
        border-radius: 12px;
        background-color: black;
        color: white;
        border: 2px solid #f44336;
        
    }
    
    .tablo{

        text-align: center;
        color: white;
    }
   

</style>
<h2 class="tablo">My Movie List</h2>
<div class="cerceve justify-content-center">

    <ul id="sortable" class="justify-content-center">
        @foreach (var item in Model)
        {

        <li class="ui-state-default" id="a"><span class="ui-icon ui-icon-arrowthick-2-n-s">@item.ListID</span>@item.MovieName- Eklenme Tarihi :@item.ListeTarihi.Value.ToString("dd/MM/yyyy") --- @Html.ActionLink("Filmi Kaldır", "Delete", "Home", new { id = item.ListID }, null)</li>
        }
    </ul>


    
        <button class="butonsave" onclick="Bas()">Kaydet</button>
   
    


</div>

<script>
    function Bas() {


        var MyList = new Array();



        for (var i = 0; i < $("#sortable>li").length; i++) {

            MyList[i] = $("#sortable>li>span")[i].innerText;
            console.log(MyList[i]);

        }
       

             $.ajax({
                url: '@Url.Action("UserListReorder", "Home")',
                type: 'POST',
                 dataType: 'json',
                 data: { a: MyList },
                 error: function () {
                     alert("Listeniz Güncellendi.")
                 }
        });
        

    }
</script>
<script>
    $(function () {
        $("#sortable").sortable();
        $("#sortable").disableSelection();
    });
</script>
